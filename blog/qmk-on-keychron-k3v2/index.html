<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D}</style><title>Installing QMK on Keychron k3v2 RGB with optical switches</title>
<meta name=description content="Game Developer / Computer Scientist"><meta name=keywords content='blog,developer,personal,Keychron,k3v2,k3,rgb,qmk,sonixqmk'><meta property="og:url" content="https://seyahdoo.com/blog/qmk-on-keychron-k3v2/"><meta property="og:type" content="website"><meta property="og:title" content="Installing QMK on Keychron k3v2 RGB with optical switches"><meta property="og:description" content="Game Developer / Computer Scientist"><meta property="og:image" content="https://seyahdoo.com/images/avatar.png"><meta property="og:image:secure_url" content="https://seyahdoo.com/images/avatar.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Installing QMK on Keychron k3v2 RGB with optical switches"><meta name=twitter:description content="Game Developer / Computer Scientist"><meta property="twitter:domain" content="https://seyahdoo.com/blog/qmk-on-keychron-k3v2/"><meta property="twitter:url" content="https://seyahdoo.com/blog/qmk-on-keychron-k3v2/"><meta name=twitter:image content="https://seyahdoo.com/images/avatar.png"><link rel=canonical href=https://seyahdoo.com/blog/qmk-on-keychron-k3v2/><link rel=stylesheet type=text/css href=/css/normalize.min.css media=print><link rel=stylesheet type=text/css href=/css/main.min.css><link id=dark-theme rel=stylesheet href=/css/dark.min.css><script src=/js/bundle.min.9a920d7dabdbad8363b6a0a94e29a9dfebdb7ee64cfcb193a0145e512ef2bdab.js integrity="sha256-mpINfavbrYNjtqCpTimp3+vbfuZM/LGToBReUS7yvas="></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-81CYH00FZ7"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-81CYH00FZ7")</script></head><body><script>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=avatar><a href=https://seyahdoo.com/><img src=/images/avatar.png alt=avatar></a></div><div class=nav-title><a class=nav-brand href=https://seyahdoo.com/>Bahar DoÄŸan</a></div><div class=nav-links><div class=nav-link><a href=https://seyahdoo.com/blog/>Blog</a></div><div class=nav-link><a href=https://seyahdoo.com/trans/>Trans</a></div><div class=nav-link><a href=https://seyahdoo.com/tags/>Tags</a></div><div class=nav-link><a href=https://seyahdoo.com/projects/>Projects</a></div><div class=nav-link><a href=https://seyahdoo.com/hobbies/>Hobbies</a></div><div class=nav-link><a href=https://github.com/seyahdoo/><span data-feather=github></span></a></div><div class=nav-link><a href=https://www.linkedin.com/in/seyahdoo/><span data-feather=linkedin></span></a></div><div class=nav-link><a href=https://instagram.com/kardanbaba/><span data-feather=instagram></span></a></div><div class=nav-link><a href=https://discord.gg/ZtDFmjXe7w><img class=svg-inject src=/svg/icons/discord.svg></a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target"></span>
<a><span class=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><span class="sr-only hamburger-menu-toggle-screen-reader-target">menu</span>
<a><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=https://seyahdoo.com/blog/>Blog</a></li><li class=nav-item><a href=https://seyahdoo.com/trans/>Trans</a></li><li class=nav-item><a href=https://seyahdoo.com/tags/>Tags</a></li><li class=nav-item><a href=https://seyahdoo.com/projects/>Projects</a></li><li class=nav-item><a href=https://seyahdoo.com/hobbies/>Hobbies</a></li><li class=nav-item><a href=https://github.com/seyahdoo/><span data-feather=github></span></a></li><li class=nav-item><a href=https://www.linkedin.com/in/seyahdoo/><span data-feather=linkedin></span></a></li><li class=nav-item><a href=https://instagram.com/kardanbaba/><span data-feather=instagram></span></a></li><li class=nav-item><a href=https://discord.gg/ZtDFmjXe7w><img class=svg-inject src=/svg/icons/discord.svg></a></li><li class="nav-item dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
<a><span class=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1>Installing QMK on Keychron k3v2 RGB with optical switches</h1><small role=doc-subtitle></small><p class=post-date>June 28, 2022</p><ul class=post-tags><li class=post-tag><a href=https://seyahdoo.com/tags/keychron>Keychron</a></li><li class=post-tag><a href=https://seyahdoo.com/tags/k3v2>k3v2</a></li><li class=post-tag><a href=https://seyahdoo.com/tags/k3>k3</a></li><li class=post-tag><a href=https://seyahdoo.com/tags/rgb>rgb</a></li><li class=post-tag><a href=https://seyahdoo.com/tags/qmk>qmk</a></li><li class=post-tag><a href=https://seyahdoo.com/tags/sonixqmk>sonixqmk</a></li></ul></div><div class=post-content><h3 id=disclaimer>Disclaimer:</h3><ul><li>Bluetooth connectivity will not work after this modification</li><li>On my system, when you first plug the usb cable, it almost never connects at the first time;
I&rsquo;ve added <code>#define NO_USB_STARTUP_CHECK = yes</code> to the <code>config.h</code> to fix it.
I&rsquo;m really not sure why this fixes it but I&rsquo;ve got the idea from here. > <a href=https://github.com/qmk/qmk_firmware/issues/5585>https://github.com/qmk/qmk_firmware/issues/5585</a></li></ul><h3 id=how-to-do-it>How to do it:</h3><ul><li><p>Using this guide; <a href=https://sonixqmk.github.io//SonixDocs/install/>https://sonixqmk.github.io//SonixDocs/install/</a></p><ul><li>Setup QMK environment with Sonix QMK repo</li><li>Apply config and keymap files</li><li>Download &ldquo;Sonix Keyboard Flasher&rdquo;</li><li>Compile QMK Sonix fimware with this command -> <code>qmk compile -kb keychron/k3/rgb/optical_iso -km iso</code></li><li>Binary is at your home &ldquo;qmk_firmware&rdquo; folder and named with &ldquo;.bin&rdquo; extension</li></ul></li><li><p>Disassemble the keyboard (you dont have to disassemble everything, just remove the keycaps next to the screws)</p></li><li><p>Switch to cable mode</p></li><li><p>Uplug keyboard</p></li><li><p>While shorting boot Pins; Plug the keyboard to PC</p></li><li><p>Keyboard should be unresponsive and &ldquo;Sonix Keyboard Flasher&rdquo; app should see the flashable chip</p></li><li><p>Set settings: device = SN32F24x, qmk offset = 0x00</p></li><li><p>Then Flash QMK with the binary that you made in the compiling stage.</p></li><li><p>You dont need to disassemble keyboard to get to bootloader mode anymore, just press Fn+Esc</p></li></ul><hr><p>My Compiled Firmware: <a href=https://github.com/seyahdoo/k3-v2-optical-qmk/releases/latest/download/keychron_k3_rgb_optical_iso_iso_seyahdoo.bin>Download Firmware</a></p><p>Source Code: <a href=https://github.com/seyahdoo/k3-v2-optical-qmk>Firmware CI Repo</a></p></div><div class=prev-next></div></div></main><footer class=footer><span>&copy; 2024 Seyahdoo</span>
<span>Made with &#10084;&#65039; using <a target=_blank href=https://github.com/526avijitgupta/gokarna>Gokarna</a></span></footer></body></html>